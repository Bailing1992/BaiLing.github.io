---
layout: post
title: "Java基础 系列 泛型"
author: "lichao"
header-img: "img/netty/host.png"
catalog: true
tags:
  - java
---

“泛型” 简单的意思就是泛指的类型（参数化类型）。

## Java泛型类

类结构是面向对象中最基本的元素，如果类需要有很好的扩展性，那么可以将其设置成泛型的。假设需要一个数据的包装类，通过传入不同类型的数据，可以存储相应类型的数据。看看这个简单的泛型类的设计：

```
class DataHolder<T>{
    T item;
    
    public void setData(T t) {
    	this.item=t;
    }
    
    public T getData() {
    	return this.item;
    }
}
```

泛型类定义时只需要在类名后面加上类型参数即可，当然也可以添加多个参数，类似于<K,V>,<T,E,K>等。这样就可以在类里面使用定义的类型参数。

> 泛型类最常用的使用场景就是“元组”的使用。我们知道方法return返回值只能返回单个对象。如果我们定义一个泛型类，定义2个甚至3个类型参数，这样我们return对象的时候，构建这样一个“元组”数据，通过泛型传入多个对象，这样我们就可以一次性方法多个数据了。

## Java泛型方法

泛型方法既可以存在于泛型类中，也可以存在于普通的类中。如果使用泛型方法可以解决问题，那么应该尽量使用泛型方法。下面我们通过例子来看一下泛型方法的使用：

```
//注意这个T是一种全新的类型，可以与泛型类中声明的T不是同一种类型。
public <T> void PrinterInfo(T e) {
    System.out.println(e);
}
//调用方法
DataHolder<String> dataHolder=new DataHolder<>();
dataHolder.PrinterInfo(1);
dataHolder.PrinterInfo("AAAAA");
dataHolder.PrinterInfo(8.88f);
```

泛型方法的几个基本特征：
* public与返回值中间非常重要，可以理解为声明此方法为泛型方法。
* 只有声明了的方法才是泛型方法，泛型类中的使用了泛型的成员方法并不是泛型方法。
* 表明该方法将使用泛型类型T，此时才可以在方法中使用泛型类型T。
* 与泛型类的定义一样，此处T可以随便写为任意标识，常见的如T、E、K、V等形式的参数常用于表示泛型。


## Java泛型接口

Java泛型接口的定义和Java泛型类基本相同，下面是一个例子：

```
//定义一个泛型接口
public interface Generator<T> {
    public T next();
}

```

此处有两点需要注意：

* 泛型接口未传入泛型实参时，与泛型类的定义相同，在声明类的时候，需将泛型的声明也一起加到类中。例子如下：
```
/* 即：class DataHolder implements Generator<T>{
 * 如果不声明泛型，如：class DataHolder implements Generator<T>，编译器会报错："Unknown class"
 */
class FruitGenerator<T> implements Generator<T>{
    @Override
    public T next() {
        return null;
    }
}

```

如果泛型接口传入类型参数时，实现该泛型接口的实现类，则所有使用泛型的地方都要替换成传入的实参类型。例子如下：

```
class DataHolder implements Generator<String>{
    @Override
    public String next() {
    	return null;
    }
}
```

从这个例子我们看到，实现类里面的所有T的地方都需要实现为String。



## Java泛型擦除及其相关内容
## Java泛型通配符
