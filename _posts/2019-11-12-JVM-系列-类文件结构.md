---
layout: post
title: "JVM 系列 类文件结构"
subtitle: '开启JVM探索新篇章'
author: "lichao"
header-img: "img/post-bg-2015.jpg"
catalog: true
tags:
  - jvm
---

> 虚拟机提供商发布了许多可以运行在各种不同平台的虚拟机，这些虚拟机都可以载入和执行同一种平台无关的字节码， 从而实现程序的“一次编译，到处运行”。虚拟机和字节码存储格式是构成平台无关性和语言无关性的基石。
![jvm](/img/jvm/jvm2.png)


#### 编译方式
* 编译成二进制本地机器码
* 编译成与操作系统和机器指令集无关的、平台中立的格式作为程序编译后的存储格式


#### 文件结构
Class 文件是一组以8位字节为基础单位的二进制流。Class文件格式采用一种类似于C语言结构体的伪结构来存储数据，这种伪结构中只有两种数据类型：无符号数和表。
* 无符号数：属于基本的数据类型，以u1,u2,u4,u8来表示1个字节、两个字节、四个字节和八个字节的无符号数，无符号数可以用来描述数字、索引信息、数量值或者按照UTF-8编码构成字符串值。
* 表：是由多个无符号数或者其他表作为数据项构成的复合数据类型。所有表都习惯以“_info”



## 命令

#### javap 
javap 是 Java class文件分解器，可以反编译（即对javac编译的文件进行反编译），也可以查看java编译器生成的字节码。用于分解class文件
```
javap -v SynchronizedUse.class > output.txt
```

**-p  -private  显示所有类和成员**
```
javap -p JavapTest.class
```

**-public  仅显示公共类和成员**

