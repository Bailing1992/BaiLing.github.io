---
layout: post
title: "分布式 系列 减库存问题"
author: "lichao"
header-img: "img/netty/host.png"
catalog: true
tags:
  - distributed
---


## 一般方案
在大部分情况下，商品库存都是直接在关系型数据库中进行扣减，那么在限时抢购活动正式开始后，那些单价比平时更给力、更具吸引力的热卖商品大家肯定都会积极踊跃的参与抢购，这必然会产生大量针对数据库同一行记录的并发更新操作。因此数据库为了保证原子性，InnoDB引擎缺省会对同一行数据记录进行加锁，把前端的并发请求变成串行操作来确保数据更新时的一致性。
