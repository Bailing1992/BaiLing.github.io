---
layout: post
title: "分布式 系列 CAP"
author: "lichao"
header-img: "img/netty/host.png"
catalog: true
tags:
  - distributed
---


> 分布式系统 的最大难点，就是各个节点的状态如何同步。

## CPA原理
> 一句话概括 CAP 原理: 网络分区发生时，一致性和可用性两难全


![存储概览](/img/redis/7.jpg)

* C - Consistent 一致性
* A - Availability 可用性
* P - Partition tolerance 分区容错性

分布式系统的节点往往都是分布在不同的机器上进行网络隔离开的，这意味着必然会有网络断开的风险，这个网络断开的场景的专业词汇叫着「网络分区」。

> 一般来说，分区容错无法避免，因此可以认为 CAP 的 P 总是成立。CAP 定理告诉我们，剩下的 C 和 A 无法同时做到。

在网络分区发生时，两个分布式节点之间无法进行通信，对一个节点进行的修改操作将无法同步到另外一个节点，所以数据的「一致性」将无法满足，因为两个分布式节点的数据不再保持一致。除非牺牲「可用性」，也就是暂停分布式节点服务，在网络分区发生时，不再提供修改数据的功能，直到网络状况完全恢复正常再继续对外提供服务。