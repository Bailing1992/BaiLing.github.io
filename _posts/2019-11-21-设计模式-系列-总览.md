---
layout: post
title: "设计模式 系列 代理"
subtitle: '开启 设计模式 探索新篇章'
author: "lichao"
header-img: "img/post-bg-rwd.jpg"
catalog: true
tags:
  - DesignPatterns 
---

> 使用模式最好的方式是：“把模式装进脑子里，然后在你的设计和已有的应用中，寻找何处可以使用它们。”以往是代码复用，现在是经验复用。

> 设计模式让你和其他开发人员之间有共享的词汇。设计模式也可以把你的思考框架的层级提高到模式级别。

> 

## 基本准则

> [success] 找出应用中可能需要变化之处，把它们独立出来，不要和那些不需要变化的代码混在一起。

换句话说，如果每次新的需求一来，都会使某方面的代码发生
变化，那么你就可以确定，这部分的代码需要被抽出来，和其
他稳定的代码有所区分。
下面是这个原则的另一种思考方式：“把会变化的部分取出并
封装起来，以便以后可以轻易地改动或扩充此部分，而不影响
不需要变化的其他部分”。

> [success]针对接口编程，而不是针对实现
编程。

针对接口编程”真正的意思是“针对超类型
（supertype）编程”。“针对接口编程”，关键就在多
态。利用多态，程序可以针对超类型编程，执行时会根据
实际状况执行到真正的行为，不会被绑死在超类型的行为
上。“针对超类型编程”这句话，可以更明确地说成“变
量的声明类型应该是超类型，通常是一个抽象类或者是一
个接口，如此，只要是具体实现此超类型的类所产生的对
象，都可以指定给这个变量。这也意味着，声明类时不用
理会以后执行时的真正对象类型！”

> [success]多用组合，少用继承

使用组合建立系统具有很大的弹性，不仅可将算法簇封装成类，更可以“在运行时动态改变行为”，只要组合的行为对象符合正确的接口标准即可。

#### 为什么不用继承
* 对代码所做的局部修改，影响层面可不只是局部。
* 当涉及“ 维护”时，为了“复用”（reuse）目的而使用继承，
结局并不完美。
#### 为什么不用接口
原始观点：Java接口不具有实现代码，所以继承接口无法达到代码的复用

但在JDK1.8中，接口中的方法可以有方法体，但需要关键字static或者default来修饰，使用static来修饰的称之为静态方法，静态方法通过接口名来调用，使用default来修饰的称之为默认方法，默认方法通过实例对象来调用。