---
layout: post
title: "netty 系列 粘包.拆包"
author: "lichao"
header-img: "img/netty/host.png"
catalog: true
tags:
  - netty
---

> Netty is an asynchronous event-driven network application framework 
for rapid development of maintainable high performance protocol servers & clients.


## 概念
#### TCP/IP协议
是一个协议簇. TCP/IP协议集包括应用层,传输层，网络层，网络访问层。
#### TCP
TCP（Transmission Control Protocol，传输控制协议）是面向连接的协议.
TCP协议是面向流的协议（流模式）.

可靠传输，保证数据正确性
保证数据顺序
#### UDP
UDP是面向消息/报文的协议(数据报模式),UDP是一个非连接的协议.    
UDP是面向报文的。发送方的UDP对应用程序交下来的报文， 在添加首部后就向下交付给IP层。既不拆分，也不合并，而是保留这些报文的边界， 因此，应用程序需要选择合适的报文大小。
可能丢包
不保证数据顺序；
## 问题
#### 什么是粘包
一般所谓的TCP粘包是在一次接收数据不能完全地体现一个完整的消息数据。
#### 什么是TCP粘包、为什么UDP不会粘包
1. UDP段都是一条消息，应用程序必须以消息为单位提取数据，不能一次提取任意字节的数据

2. UDP具有保护消息边界，在每个UDP包中就有了消息头（消息来源地址，端口等信息），这样对于接收端来说就容易进行区分处理了。传输协议把数据当作一条独立的消息在网上传输，接收端只能接收独立的消息。接收端一次只能接收发送端发出的一个数据包,如果一次接受数据的大小小于发送端一次发送的数据大小，就会丢失一部分数据，即使丢失，接受端也不会分两次去接收
## 