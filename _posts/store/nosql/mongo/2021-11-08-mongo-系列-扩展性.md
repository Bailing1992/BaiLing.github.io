---
layout: post
title: "Mongo 可扩展性"
subtitle: '开启 MongoDB 学习新篇章'
author: "lichao"
header-img: "img/post/bg/post-bg-rwd.jpg"
catalog: true
tags:
  - mongo 
---

> 可伸缩性(可扩展性)是一种对软件系统计算处理能力的设计指标，高可伸缩性代表一种弹性，在系统扩展成长过程中，软件能够保证旺盛的生命力，通过很少的改动甚至只是硬件设备的添置，就能实现整个系统处理能力的线性增长，实现高吞吐量和低延迟高性能。



分片(sharding)是指将数据拆分，将其分散存储在不同的机器上的过程。将数据分散到不同的机器上，不需要功能强大的大型计算机就可以存储更多的数据，处理更大的负载。

MongoDB 支持自动分片(autosharding)，可以使数据库架构对应用程序不可见，也可以简化系统管理。对应用程序而言，好像始终在使用一个单机的MongoDB服务器一样。另一方面，MongoDB自动处理数据在分片上的分布，也更容易添加和删除分片。

## 分片集群
MongoDB 的分片机制允许创建一个包含许多台机器(分片)的集群，将数据子集分散在集群中，每个分片维护着一个数据集合的子集。与单机服务器和副本集相比，使用集群架构可以使应用程序具有更大的数据处理能力。

MongoDB 的分片集群由下面的几个组件组成：
* 分片(shard): 每个分片包含了分片数据的一个子集，每个分片可以作为一个副本集部署。
* mongos: mongos 扮演者查询路由的角色，提供着客户端应用和分片集群的接口。
* config servers: 配置服务存储着集群的元数据和配置设置，MongoDB 3.4 以后，配置服务必须部署成副本集。


#### 搭建测试
下图描述了分片集群中，各个组件的交互:
![分片集群](/img/mongodb/分片集群.png)

#### 配置

## 参考文献

[【1】可伸缩性/可扩展性(Scalable/scalability)](https://www.jdon.com/scalable.html)

[【2】MongoDB之分片集群（Sharding）](https://www.jianshu.com/p/3d44dcbd12ff)

